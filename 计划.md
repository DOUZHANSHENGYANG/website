# 个人博客网站开发计划

## 项目概述

- **项目名称**：个人博客网站
- **开发框架**：Next.js 14（App Router）
- **开发模式**：全栈开发
- **预计完成时间**：4-6周

## 用户需求分析

### 访客功能

- [✅] 浏览文章列表
- [✅] 阅读文章详情
- [✅] 按分类/标签筛选文章
- [ ] 搜索文章
- [ ] 查看热门/推荐文章
- [✅] 响应式设计，支持移动端访问
- [✅] 文章评论功能
- [ ] 文章分享功能

### 管理员功能

- [✅] 用户认证（固定用户名密码登录）
- [✅] 文章管理（创建/编辑/删除）
- [✅] 支持Markdown编辑器（含图片上传）
- [✅] 图片上传功能
- [✅] 分类/标签管理
- [✅] 评论管理
- [✅] 网站数据统计（访问量、热门文章等）

## 技术栈

### 前端

- **框架**：Next.js 14 (App Router)
- **UI组件库**：Tailwind CSS + Shadcn UI
- **状态管理**：React Context API / Zustand
- **Markdown渲染**：MDX / react-markdown
- **编辑器**：react-simplemde-editor / TipTap
- **图表库**：Chart.js / Recharts（用于数据统计）

### 后端

- **API路由**：Next.js API Routes
- **数据库**：Supabase (PostgreSQL)
- **认证**：自定义认证系统（固定用户名密码）
- **图片存储**：Supabase Storage / Cloudinary
- **部署**：Vercel

## 数据模型设计

### 用户(User)

- id: UUID
- username: String
- email: String
- password: String (加密存储)
- avatar: String (URL)
- role: String (admin/user)
- createdAt: DateTime
- updatedAt: DateTime

### 文章(Post)

- id: UUID
- title: String
- slug: String
- content: Text (Markdown)
- excerpt: String
- coverImage: String (URL)
- published: Boolean
- featured: Boolean
- authorId: UUID (关联User)
- createdAt: DateTime
- updatedAt: DateTime
- viewCount: Integer

### 分类(Category)

- id: UUID
- name: String
- slug: String
- description: String

### 标签(Tag)

- id: UUID
- name: String
- slug: String

### 文章分类关联(PostCategory)

- postId: UUID
- categoryId: UUID

### 文章标签关联(PostTag)

- postId: UUID
- tagId: UUID

### 评论(Comment)

- id: UUID
- content: Text
- postId: UUID
- userId: UUID (可为null，支持匿名评论)
- parentId: UUID (可为null，支持嵌套评论)
- createdAt: DateTime
- updatedAt: DateTime

## 开发阶段

### 阶段一：项目初始化与基础设置 (1周)

- [✅] 创建Next.js项目
- [✅] 配置Tailwind CSS和Shadcn UI
- [✅] 设置项目目录结构
- [✅] 配置ESLint和Prettier
- [✅] 设置Supabase项目
- [✅] 设计数据库模型
- [✅] 配置简单的认证系统（固定用户名密码）
- [✅] 创建基础布局组件

### 阶段二：核心功能开发 (2周)

- [✅] 实现用户认证功能
- [✅] 开发文章列表页面
- [✅] 开发文章详情页面
- [✅] 实现Markdown渲染
- [✅] 开发文章管理界面
- [✅] 实现文章CRUD操作
- [✅] 开发分类和标签管理
- [✅] 添加常用内置标签和分类
- [✅] 实现图片上传功能
- [✅] 实现评论系统

### 阶段三：高级功能开发 (1-2周)

- [ ] 开发搜索功能
- [ ] 实现文章分享功能
- [ ] 开发数据统计仪表板
- [ ] 优化SEO
- [ ] 添加网站地图
- [ ] 实现RSS订阅

### 阶段四：测试与优化 (1周)

- [ ] 单元测试
- [ ] 集成测试
- [ ] 性能优化
- [ ] 可访问性优化
- [ ] 跨浏览器兼容性测试
- [ ] 移动端响应式测试

### 阶段五：部署与上线 (1周)

- [ ] 配置Vercel部署
- [ ] 设置自定义域名
- [ ] 配置SSL证书
- [ ] 监控与日志设置
- [ ] 编写使用文档
- [ ] 上线前最终检查

## 项目目录结构（已完成）

```plaintext
/
├── app/                    # Next.js App Router
│   ├── api/                # API路由
│   ├── admin/              # 管理员页面
│   ├── blog/               # 博客相关页面
│   ├── auth/               # 认证相关页面
│   └── ...
├── components/             # React组件
│   ├── ui/                 # UI组件
│   ├── layout/             # 布局组件
│   ├── blog/               # 博客相关组件
│   ├── admin/              # 管理相关组件
│   └── ...
├── lib/                    # 工具函数和库
│   ├── db/                 # 数据库相关
│   ├── auth/               # 认证相关
│   ├── utils/              # 通用工具函数
│   └── ...
├── public/                 # 静态资源
├── styles/                 # 全局样式
├── types/                  # TypeScript类型定义
└── ...
```

## 开发规范

### 代码规范

- 使用TypeScript进行类型检查
- 遵循ESLint规则
- 使用Prettier格式化代码
- 组件采用函数式组件和Hooks
- 使用命名约定：
  - 组件文件：PascalCase.tsx
  - 工具函数：camelCase.ts
  - 常量：UPPER_SNAKE_CASE

### Git工作流

- 主分支：main
- 开发分支：dev
- 功能分支：feature/功能名称
- 修复分支：fix/问题描述
- 提交信息格式：`类型(范围): 描述`
  - 类型：feat, fix, docs, style, refactor, test, chore
  - 范围：影响的模块
  - 描述：简洁明了的变更说明

## 风险评估与应对策略

- **技术风险**：Next.js版本更新可能带来兼容性问题
  - 应对：锁定依赖版本，关注官方更新
- **数据安全**：用户数据和文章内容的安全性
  - 应对：实施严格的权限控制，定期备份数据
- **性能问题**：大量文章和图片可能导致性能下降
  - 应对：实施懒加载、分页、图片优化等策略
- **SEO挑战**：确保博客内容被搜索引擎正确索引
  - 应对：使用Next.js的SSG/ISR功能，优化元数据

## 后续迭代计划

- 多语言支持
- 黑暗模式
- 会员订阅功能
- 集成Newsletter
- 文章点赞功能
- 更高级的分析功能
